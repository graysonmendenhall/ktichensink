<!--<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>PathMinder</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      #panel {
        position: absolute;
        top: 5px;
        left: 50%;
        margin-left: -180px;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>
var map;
var directionsDisplay;
var directionsService;
var stepDisplay;
var markerArray = [];

function initialize() {
  // Instantiate a directions service.
  directionsService = new google.maps.DirectionsService();

  // Create a map and center it on Manhattan.
  var manhattan = new google.maps.LatLng(40.7711329, -73.9741874);
  var mapOptions = {
    zoom: 14,
    center: manhattan
  }
  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

  // Create a renderer for directions and bind it to the map.
  var rendererOptions = {
    map: map
  }
  directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions)

  // Instantiate an info window to hold step text.
  stepDisplay = new google.maps.InfoWindow();
}

function calcRoute() {

  // First, remove any existing markers from the map.
  for (var i = 0; i < markerArray.length; i++) {
    markerArray[i].setMap(null);
  }

  // Now, clear the array itself.
  markerArray = [];

  // Retrieve the start and end locations and create
  // a DirectionsRequest using WALKING directions.
  var start = document.getElementById('start').value;
  var end = document.getElementById('end').value;
  var request = {
      origin: start,
      destination: end,
      travelMode: google.maps.TravelMode.WALKING
  };

  // Route the directions and pass the response to a
  // function to create markers for each step.
  directionsService.route(request, function(response, status) {
    if (status == google.maps.DirectionsStatus.OK) {
      var warnings = document.getElementById('warnings_panel');
      warnings.innerHTML = '<b>' + response.routes[0].warnings + '</b>';
      directionsDisplay.setDirections(response);
      showSteps(response);
    }
  });
}

function showSteps(directionResult) {
  // For each step, place a marker, and add the text to the marker's
  // info window. Also attach the marker to an array so we
  // can keep track of it and remove it when calculating new
  // routes.
  var myRoute = directionResult.routes[0].legs[0];

  for (var i = 0; i < myRoute.steps.length; i++) {
    var marker = new google.maps.Marker({
      position: myRoute.steps[i].start_location,
      map: map
    });
    attachInstructionText(marker, myRoute.steps[i].instructions);
    markerArray[i] = marker;
  }
}

function attachInstructionText(marker, text) {
  google.maps.event.addListener(marker, 'click', function() {
    // Open an info window when the marker is clicked on,
    // containing the text of the step.
    stepDisplay.setContent(text);
    stepDisplay.open(map, marker);
  });
}

google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body>
    <div id="panel">
    <b>Start: </b>
    <select id="start">
      <option value="carroll hall, chapel hill, nc">Carroll Hall</option>
      <option value="hanes art center, chapel hill, nc">Hanes Art Center</option>
      <option value="125 W Franklin Street, Chapel Hill, NC 27514">Granville Towers</option>
      <option value="250 E Franklin Street, Chapel Hill, NC 27514">Morehead Planetarium</option>
      <option value="old well, chapel hill, nc">Old Well</option>
    </select>
    <b>End: </b>
    <select id="end" onchange="calcRoute();">
      <option value="graham student union, chapel hill, nc">Carolina Union</option>
      <option value="104 Stadium Drive, Chapel Hill, NC 27514">Kenan Stadium</option>
      <option value="300 Skipper Bowles Drive, Chapel Hill, NC 27514">Dean Smith Center</option>
      <option value="555 Paul Hardin Drive, Chapel Hill, NC 27514">Craige Residence Hall</option>
      <option value="300 Kenan Drive, Chapel Hill, NC 27599">Kenan-Flagler</option>
      <option value="101 Manning Drive, Chapel Hill, NC 27514">UNC Hospitals</option>
    </select>
    </div>
    <div id="map-canvas"></div>
    &nbsp;
    <div id="warnings_panel" style="width:100%;height:10%;text-align:center"></div>
  </body>
</html>-->


<!DOCTYPE html>
<html>
  <head>
    <title>JSON Marker Test</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <style type="text/css">
      html { height: 100% }
      body { height: 100%; margin: 0; padding: 0 }
      #map-canvas { height: 70% }
    </style>
    <link rel="icon" type="image/png" href="imgs/favicon.png" />
    <link rel="stylesheet" href="css/foundation.css" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
      <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
     <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
    <script src="js/vendor/modernizr.js"></script>
    <script src="phonegap.js"></script>
     <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
     
    </script>
    <script src="js/functions.js"></script>
  </head>
  
  <body>
    
        <div class="row">
      <div class="large-12 columns" style="padding: 0; height: 20px; background-color: #ffffff;"></div>
    </div>
    
    <div class="row">
      <div class="large-12 columns" style="background-color: #56a0d3; padding: 0">
	
        <nav class="top-bar" data-topbar="" role="navigation" style="background-color: #56a0d3;">
  <ul class="title-area" style="background-color: #56a0d3;">
    <img src="imgs/icon_logo.gif" alt="" style="float: left; margin-top: 4px; height: 35px;">
    <!-- Title Area -->
    <li class="name" style="background-color: #56a0d3;">
    <li class="divider"></li>
    </li>
    
    <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
    <li class="toggle-topbar menu-icon" style="background-color: #56a0d3;"><a href=""><span></span></a></li>
  </ul>

  
<section class="top-bar-section" style="background-color: #56a0d3;">
  
    <ul class="left" style="background-color: #56a0d3;">
      <li class="divider"></li>
      <li class="has-dropdown not-click" style="background-color: #56a0d3;"><a href="#">Filter Map Markers</a>

        <ul class="dropdown" style="background-color: #56a0d3;"><li class="title back js-generated" style="background-color: #56a0d3;"><h5><a href="javascript:void(0)"><i class="fa fa-arrow-circle-o-left fa-3"></i>      BACK</a></h5></li>
          <li style="background-color: #56a0d3;"><label><span style="color: #ffffff;">Filter by category:</span></label></li>
          <li class="divider"></li>
          <li style="height: 40px; background-color: #56a0d3;"><a><input id="checkbox" type="checkbox"><span style="margin-left: 15px; font-size: 1.5em;">Academic</span></a></li>
          <li class="divider"></li>
          <li style="height: 40px; background-color: #56a0d3;"><a><input id="checkbox1" type="checkbox"><span style="margin-left: 15px; font-size: 1.5em;">Athletic</span></a></li>
          <li class="divider"></li>
          <li style="height: 40px; background-color: #56a0d3;"><a><input id="checkbox1" type="checkbox"><span style="margin-left: 15px; font-size: 1.5em;">Student Life</span></a></li>
          <li class="divider"></li>
          <li style="height: 40px; background-color: #56a0d3;"><a><input id="checkbox1" type="checkbox"><span style="margin-left: 15px; font-size: 1.5em;">Residential</span></a></li>
          

            
        </ul>
      </li>
      
    </ul>
    <!-- Right Nav Section -->
    <ul class="right">
      <li class="divider"></li>
      <li style="background-color: #56a0d3;">
        
        <div class="row">
          <div class="large-6 columns">
            <label>
              <input type="text" placeholder="Building Search" />
            </label>
          </div>
        </div>
      
      </li>
    </ul>
  </section></nav>
        

	
    </div>
    </div>
    
    <div id="map-canvas"></div>
    
    <div id="panel" style="height: 40px;">
    <b>Start: </b>
    <select id="start">
      <option value="carroll hall, chapel hill, nc">Carroll Hall</option>
      <option value="hanes art center, chapel hill, nc">Hanes Art Center</option>
      <option value="125 W Franklin Street, Chapel Hill, NC 27514">Granville Towers</option>
      <option value="250 E Franklin Street, Chapel Hill, NC 27514">Morehead Planetarium</option>
      <option value="old well, chapel hill, nc">Old Well</option>
    </select>
    <b>End: </b>
    <select id="end" onchange="calcRoute();">
      <option value="graham student union, chapel hill, nc">Carolina Union</option>
      <option value="104 Stadium Drive, Chapel Hill, NC 27514">Kenan Stadium</option>
      <option value="300 Skipper Bowles Drive, Chapel Hill, NC 27514">Dean Smith Center</option>
      <option value="555 Paul Hardin Drive, Chapel Hill, NC 27514">Craige Residence Hall</option>
      <option value="300 Kenan Drive, Chapel Hill, NC 27599">Kenan-Flagler</option>
      <option value="101 Manning Drive, Chapel Hill, NC 27514">UNC Hospitals</option>
    </select>
    </div>
   
    <div id="warnings_panel" style="width:100%;height:10%;text-align:center"></div>
    
     
    
    
    <script src="js/foundation.min.js"></script>
    <script>
      $(document).foundation();
    </script>
    
  </body>
  
</html>
