<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PathMinder - Find Your Way</title>
    
    <link rel="icon" type="image/png" href="imgs/favicon.png" />
    <link rel="stylesheet" href="css/foundation.css" />
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
      <style>
	.columns {
	  padding: 0;
	}
	
	#map-canvas {
	height: 100%;
	width: 100%;
	margin: 0 0 20px 15px;
	padding: 0 0 0 0;
	}
	
      </style>
      <script src="js/vendor/modernizr.js"></script>
      <script type="text/javascript" src="js/main.js"></script>
      <script src="phonegap.js"></script>
      <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDexT_U6gthKGQI7zXazzOPMZfSgXb-n54"></script>
      <script src="js/map.js"></script>
      
      <script type="text/javascript">
    function initialize() {

  // Color styles for PathMinder map
  var styles = [
    {
      stylers: [
        { hue: "#56A0D3" },
        { saturation: -20 }
      ]
    },{
      featureType: "road",
      elementType: "geometry",
      stylers: [
        { lightness: 100 },
        { visibility: "simplified" }
      ]
    },{
      featureType: "road",
      elementType: "labels",
      stylers: [
        { visibility: "off" }
      ]
    }
  ];


  var styledMap = new google.maps.StyledMapType(styles,
    {name: "Styled Map"});

  var mapOptions = {
    zoom: 14,
    center: new google.maps.LatLng(35.906550, -79.047070),
    disableDefaultUI: true
    
  };
  
  
  var map = new google.maps.Map(document.getElementById('map-canvas'),
    mapOptions);
  
  
  var image1 = 'imgs/blue_pin.png';
  var image2 = 'imgs/green_pin.png';
  var image3 = 'imgs/red_pin.png';
  var image4 = 'imgs/purple_pin.png';
  var image5 = 'imgs/yellow_pin.png';
  
  
  var contentString1 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Carroll Hall</h3>'+
      '<div id="bodyContent">'+
      '<p><b>Carroll Hall</b> is the home of the School of Journalism and Mass Communication.</p>'+
      '<p>Source: <a href="http://www.jomc.unc.edu/">'+
      'UNC JOMC Homepage</a> '+
      '</p>'+
      '</div>';

  var infowindow1 = new google.maps.InfoWindow({
      content: contentString1,
      maxWidth: 250
    
  });
  
  var carroll = new google.maps.Marker({
      position: new google.maps.LatLng(35.910520, -79.051727),
      map: map,
      title: 'Carroll Hall',
      icon: image1

  });
  
  google.maps.event.addListener(carroll, 'click', function() {
    map.setZoom(17);
    map.setCenter(carroll.getPosition());
    infowindow1.open(map,carroll);
  });
  
  var contentString2 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Carolina Union</h3>'+
      '<div id="bodyContent">'+
      '<p>This is the <b>Carolina Union</b>.</p>'+
     '</p>'+
      '</div>';

  var infowindow2 = new google.maps.InfoWindow({
      content: contentString2,
      maxWidth: 250
  });
  
  var union = new google.maps.Marker({
      position: new google.maps.LatLng(35.910563, -79.047758),
      map: map,
      title: 'Carolina Union',
      icon: image4

  });
  
    google.maps.event.addListener(union, 'click', function() {
    map.setZoom(17);
    map.setCenter(union.getPosition());
    infowindow2.open(map,union);
  });
    
    var contentString3 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Morehead Planetarium</h3>'+
      '<div id="bodyContent">'+
      '<p>This is the <b>Morehead Planetarium</b>. They make all kinds of cool shows and have summer camps for kids.</p>'+
     '</p>'+
      '</div>';

  var infowindow3 = new google.maps.InfoWindow({
      content: contentString3,
      maxWidth: 250
  });
  
  var planetarium = new google.maps.Marker({
      position: new google.maps.LatLng(35.913848, -79.050590),
      map: map,
      title: 'Morehead Planetarium',
      icon: image5

  });
  
  google.maps.event.addListener(planetarium, 'click', function() {
    map.setZoom(17);
    map.setCenter(planetarium.getPosition());
    infowindow3.open(map,planetarium);
  });
  
  var contentString4 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Hanes Art Center</h3>'+
      '<div id="bodyContent">'+
      '<p>This is the <b>Hanes Art Center</b>. This is where all of the art majors have class. There are always some cool sculptures in their lobby.</p>'+
     '</p>'+
      '</div>';

  var infowindow4 = new google.maps.InfoWindow({
      content: contentString4,
      maxWidth: 250
  });
   
  var hanes = new google.maps.Marker({
      position: new google.maps.LatLng(35.912353, -79.054438),
      map: map,
      title: 'Hanes Art Center',
      icon: image1

  });
  
  google.maps.event.addListener(hanes, 'click', function() {
    map.setZoom(17);
    map.setCenter(hanes.getPosition());
    infowindow4.open(map,hanes);
  });
  
  var contentString5 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Kenan Memorial Stadium</h3>'+
      '<div id="bodyContent">'+
      '<p>This is <b>Kenan Memorial Stadium</b>. This is where all of the home football games are played. Go Heels!</p>'+
     '</p>'+
      '</div>';

  var infowindow5 = new google.maps.InfoWindow({
      content: contentString5,
      maxWidth: 250
  });
  
  var kenan = new google.maps.Marker({
      position: new google.maps.LatLng(35.906550, -79.047070),
      map: map,
      title: 'Kenan Memorial Stadium',
      icon: image2

  });
  
  google.maps.event.addListener(kenan, 'click', function() {
    map.setZoom(17);
    map.setCenter(kenan.getPosition());
    infowindow5.open(map,kenan);
  });
  
  var contentString6 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Dean E. Smith Center</h3>'+
      '<div id="bodyContent">'+
      '<p>This is the <b>Dean E. Smith Center</b>. This is where all of the home basketball games are played. Go Heels!</p>'+
     '</p>'+
      '</div>';

  var infowindow6 = new google.maps.InfoWindow({
      content: contentString6,
      maxWidth: 250
  });
  
  var smith = new google.maps.Marker({
      position: new google.maps.LatLng(35.899545, -79.043959),
      map: map,
      title: 'Dean E. Smith Center',
      icon: image2

  });
  
  google.maps.event.addListener(smith, 'click', function() {
    map.setZoom(17);
    map.setCenter(smith.getPosition());
    infowindow6.open(map,smith);
  });
  
  var contentString7 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">UNC Hospitals</h3>'+
      '<div id="bodyContent">'+
      '<p>This is the <b>UNC Hospitals</b> complex. This is where the massive hospital is. This is also where all of the medical and nursing school buildings are. </p>'+
     '</p>'+
      '</div>';

  var infowindow7 = new google.maps.InfoWindow({
      content: contentString7,
      maxWidth: 250
  });
  
  var hospital = new google.maps.Marker({
      position: new google.maps.LatLng(35.903821, -79.050782),
      map: map,
      title: 'University of North Carolina Hospitals',
      icon: image5

  });
  
   google.maps.event.addListener(hospital, 'click', function() {
    map.setZoom(17);
    map.setCenter(hospital.getPosition());
    infowindow7.open(map,hospital);
  });
   
   
   
  var contentString8 = '<div id="content">'+
      '<div id="siteNotice">'+
      '</div>'+
      '<h3 id="firstHeading" class="firstHeading">Craige Residence Hall</h3>'+
      
      '<div id="bodyContent">'+
      '<p>This is <b>Craige Residence Hall</b>. This is close to the Dean Smith Center and UNC Hospitals. </p>'+
     '</p>'+
      '</div>';

  var infowindow8 = new google.maps.InfoWindow({
      content: contentString8,
      maxWidth: 250
  });
  
  var craige = new google.maps.Marker({
      position: new google.maps.LatLng(35.902793, -79.045186),
      map: map,
      title: 'Craige Residence Hall',
      icon: image3

  });
  
   google.maps.event.addListener(craige, 'click', function() {
    infowindow8.open(map,craige);
  });
   
   google.maps.event.addListener(craige, 'click', function() {
    map.setZoom(17);
    map.setCenter(craige.getPosition());
    infowindow8.open(map,craige);
  });
   
   

  map.mapTypes.set('map_style', styledMap);
  map.setMapTypeId('map_style');
  
  //  HTML5 geolocation
  if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(function(position) {
      var pos = new google.maps.LatLng(position.coords.latitude,
                                       position.coords.longitude);

      var infowindow = new google.maps.InfoWindow({
        map: map,
        position: pos,
	zoom: 10,
        content: 'You are here.'
      });

      map.setCenter(pos);
    }, function() {
      handleNoGeolocation(true);
    });
  } else {
    // Browser doesn't support Geolocation
    handleNoGeolocation(false);
  }
}

function handleNoGeolocation(errorFlag) {
  if (errorFlag) {
    var content = 'Error: The Geolocation service failed.';
  } else {
    var content = 'Error: Your browser doesn\'t support geolocation.';
  }

  var options = {
    map: map,
    position: new google.maps.LatLng(60, 105),
    content: content
  };

  var infowindow = new google.maps.InfoWindow(options);
  map.setCenter(options.position);
}
  

  google.maps.event.addDomListener(window, 'load', initialize);
      
    </script>
  </head>
  <body style="width: 320px; height: 570px;">
    
    <div class="row">
      <div class="large-12 columns" style="padding: 0; height: 20px; background-color: #ffffff;">
    </div>
    
    <div class="row">
      <div class="large-12 columns" style="padding: 0">
	
	<div class="icon-bar five-up" style="height: 40px;">
  <a class="item" style="float: left; margin-top: -15px; margin-left: -5px;">
    <img src="imgs/icon_logo.gif" alt="">
    </a>
  
  <div class="large-8 medium-8 columns"><h3 style="color: #ffffff; margin-left: 50px; margin-top: 10px;"></h3></div>
  
  <div class="small-6 columns" style="float: left;">
		<input type="text" placeholder="Where would you like to go?"/>
	      </div>
	     
    </div>
	
    </div>
	
    </div>
    </div>
    
    <div id="map-canvas" style="width: 400px; height: 420px; margin-left: -10px; margin-top: -8px;"></div>
    <script src="js/vendor/jquery.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
      $(document).foundation();
    </script>
   

  
  </body>
</html>
